# Ingress NGINX Helm Values (DEV)
# =================================
# Ingress controller for k3d with native LoadBalancer
# Target: k3d cluster with "system" node pool

controller:
  kind: Deployment
  
  # IMPORTANT: k3d already maps ports 80:80 and 443:443 via its loadbalancer
  # Using NodePort avoids svclb pod conflicts with k3d's port binding
  service:
    type: NodePort
    nodePorts:
      http: 30080
      https: 30443
  
  nodeSelector:
    agentpool: system
  
  tolerations:
    - key: "agentpool"
      operator: "Equal"
      value: "system"
      effect: "NoSchedule"
  
  resources:
    requests:
      cpu: 100m
      memory: 128Mi
    limits:
      cpu: 500m
      memory: 512Mi
  
  config:
    enable-access-log: "true"
