# kube-prometheus-stack Helm Values (DEV)
# ==========================================
# Prometheus + Grafana + AlertManager + Node Exporter
# Target: k3d cluster with "system" node pool (agentpool=system, taint NoSchedule)

grafana:
  adminPassword: admin
  
  resources:
    requests:
      cpu: 100m
      memory: 256Mi
    limits:
      cpu: 500m
      memory: 1Gi
  
  nodeSelector:
    agentpool: system
  
  tolerations:
    - key: "agentpool"
      operator: "Equal"
      value: "system"
      effect: "NoSchedule"

prometheus:
  prometheusSpec:
    retention: 12h
    
    resources:
      requests:
        cpu: 300m
        memory: 1Gi
      limits:
        cpu: 1000m
        memory: 2Gi
    
    nodeSelector:
      agentpool: system
    
    tolerations:
      - key: "agentpool"
        operator: "Equal"
        value: "system"
        effect: "NoSchedule"

alertmanager:
  alertmanagerSpec:
    resources:
      requests:
        cpu: 50m
        memory: 128Mi
      limits:
        cpu: 200m
        memory: 256Mi
    
    nodeSelector:
      agentpool: system
    
    tolerations:
      - key: "agentpool"
        operator: "Equal"
        value: "system"
        effect: "NoSchedule"

kube-state-metrics:
  resources:
    requests:
      cpu: 50m
      memory: 128Mi
    limits:
      cpu: 200m
      memory: 256Mi
  
  nodeSelector:
    agentpool: system
  
  tolerations:
    - key: "agentpool"
      operator: "Equal"
      value: "system"
      effect: "NoSchedule"

prometheus-node-exporter:
  resources:
    requests:
      cpu: 25m
      memory: 64Mi
    limits:
      cpu: 100m
      memory: 128Mi
  
  tolerations:
    - key: "agentpool"
      operator: "Equal"
      value: "system"
      effect: "NoSchedule"
