meta {
  name: Read History
  type: http
  seq: 4
}

get {
  url: {{sensor_service_url}}/api/sensors/d56b4f36-6d6f-489a-a4a8-ef17514fb582/readings?pageNumber=1&pageSize=10&days=7
  body: none
  auth: bearer
}

params:query {
  pageNumber: 1
  pageSize: 10
  days: 7
}

auth:bearer {
  token: {{admin_token}}
}

body:json {
  {
    "data": [
      {
        "sensorId": "1df5a85e-64f5-4152-a7cd-7a3ab93eb815",
        "plotId": "a1b2c3d4-e5f6-7890-abcd-ef1234567890",
        "time": "2026-02-14T03:46:56.0185484Z",
        "temperature": 28.5,
        "humidity": 65.2,
        "soilMoisture": 42.1,
        "rainfall": 0,
        "batteryLevel": 85
      },
      {
        "sensorId": "b0faac23-dd0c-40e8-a377-b595f2ef82ca",
        "plotId": "a1b2c3d4-e5f6-7890-abcd-ef1234567890",
        "time": "2026-02-14T03:46:56.0186221Z",
        "temperature": 29.1,
        "humidity": 62.8,
        "soilMoisture": 38.5,
        "rainfall": 0,
        "batteryLevel": 92
      }
    ],
    "totalCount": 2,
    "pageNumber": 1,
    "pageSize": 10
  }
}

settings {
  encodeUrl: true
  timeout: 0
}
